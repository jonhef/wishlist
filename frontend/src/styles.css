@import "./theme/fonts.css";
@import "./theme/background.css";
@import "./theme/effects.css";

:root {
  --color-bg0: #0b0610;
  --color-bg1: #120a1a;
  --color-bg2: #1a1024;
  --color-text: #f6eaf5;
  --color-muted-text: #cbb7c9;
  --color-border: #2a1a33;
  --color-primary: #f4a6c8;
  --color-primary-hover: #ffb7d9;
  --color-accent-neon: #ff3fb4;
  --color-secondary: #bfa2ff;
  --color-danger: #ff5a7a;
  --color-success: #4de1c1;
  --color-warn: #ffb86b;
  --color-error: #ff5a7a;
  --font-family-display: "Unbounded", "Avenir Next", "Segoe UI", system-ui, sans-serif;
  --font-family-body: "Space Grotesk", "Avenir Next", "Segoe UI", system-ui, sans-serif;
  --font-family-mono: "JetBrains Mono", "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  --letter-spacing-display: -0.02em;
  --radius-sm: 10px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --effect-glow-sm: 0 0 10px rgba(255, 63, 180, 0.25);
  --effect-glow-md: 0 0 18px rgba(255, 63, 180, 0.35);
  --effect-glow-lg: 0 0 28px rgba(255, 63, 180, 0.45);
  --effect-noise-opacity: 0.03;
  --space-2xs: 4px;
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  min-height: 100%;
}

body {
  margin: 0;
  color: var(--color-text);
  font-family: var(--font-family-body);
  line-height: 1.5;
}

h1,
h2,
h3,
p {
  margin: 0;
}

h1,
h2,
h3,
.brand {
  font-family: var(--font-family-display);
  letter-spacing: var(--letter-spacing-display);
}

code,
pre {
  font-family: var(--font-family-mono);
}

a {
  color: inherit;
}

:focus-visible {
  outline: 2px solid var(--color-accent-neon);
  outline-offset: 2px;
}

.app-layout {
  min-height: 100vh;
  display: grid;
  grid-template-columns: minmax(230px, 280px) minmax(0, 1fr);
}

.sidebar {
  border-right: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-bg1) 82%, black 18%);
  padding: var(--space-xl) var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
}

.brand {
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 1.05rem;
}

.sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.nav-link {
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-sm);
  border: 1px solid transparent;
  text-decoration: none;
  color: var(--color-muted-text);
  transition: border-color 140ms ease, color 140ms ease;
}

.nav-link:hover {
  color: var(--color-text);
  border-color: color-mix(in srgb, var(--color-accent-neon) 34%, var(--color-border));
}

.nav-link.active {
  color: var(--color-text);
  background: color-mix(in srgb, var(--color-accent-neon) 10%, transparent);
}

.layout-main {
  display: flex;
  flex-direction: column;
}

.topbar {
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-md) var(--space-xl);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  background: color-mix(in srgb, var(--color-bg1) 90%, black 10%);
}

.topbar-user {
  color: var(--color-muted-text);
}

.page-shell {
  width: min(1180px, 100%);
  margin: 0 auto;
  padding: var(--space-xl);
}

.public-page,
.auth-page {
  min-height: 100vh;
  width: min(940px, 100%);
  margin: 0 auto;
  padding: var(--space-xl);
}

.auth-page {
  display: flex;
  align-items: center;
  justify-content: center;
}

.auth-card {
  width: min(560px, 100%);
}

.stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.gap-md {
  gap: var(--space-md);
}

.gap-lg {
  gap: var(--space-lg);
}

.muted {
  color: var(--color-muted-text);
}

.section-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-md);
}

.actions-row {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.actions-row.wrap {
  flex-wrap: wrap;
}

.grid-two {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-sm);
}

.grid-three {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-sm);
}

.grid-four {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: var(--space-sm);
}

.editor-layout {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
  gap: var(--space-md);
}

.preview-panel {
  padding: var(--space-md);
  border-radius: var(--radius-md);
  border: 1px dashed color-mix(in srgb, var(--color-accent-neon) 35%, var(--color-border));
  background: color-mix(in srgb, var(--color-bg1) 70%, transparent);
}

.wishlist-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: var(--space-md);
}

.wishlist-card,
.item-card {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.wishlist-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  flex-wrap: wrap;
}

.empty-state {
  align-items: flex-start;
}

.ui-card {
  border: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-bg2) 92%, black 8%);
  border-radius: var(--radius-md);
  padding: var(--space-md);
}

.ui-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2xs);
}

.ui-field-label {
  color: var(--color-muted-text);
  font-size: 0.94rem;
}

.ui-input {
  width: 100%;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: color-mix(in srgb, var(--color-bg1) 84%, black 16%);
  color: var(--color-text);
  padding: 10px 12px;
  font: inherit;
}

.ui-input::placeholder {
  color: color-mix(in srgb, var(--color-muted-text) 82%, transparent);
}

.ui-input:focus-visible {
  border-color: var(--color-accent-neon);
}

textarea.ui-input {
  resize: vertical;
  min-height: 7rem;
}

.color-input {
  padding: 0;
  min-height: 2.6rem;
}

.ui-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  padding: 10px 14px;
  font: inherit;
  font-weight: 600;
  cursor: pointer;
  border: 1px solid transparent;
  transition: transform 120ms ease, background-color 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
}

.ui-button:hover {
  transform: translateY(-1px);
}

.ui-button:disabled {
  cursor: not-allowed;
  opacity: 0.58;
  transform: none;
}

.ui-button-primary {
  background: var(--color-primary);
  color: color-mix(in srgb, var(--color-bg0) 88%, var(--color-text));
  border-color: color-mix(in srgb, var(--color-primary) 58%, black 42%);
}

.ui-button-primary:hover {
  background: var(--color-primary-hover);
}

.ui-button-secondary {
  background: color-mix(in srgb, var(--color-secondary) 18%, var(--color-bg2));
  color: var(--color-text);
  border-color: color-mix(in srgb, var(--color-secondary) 34%, var(--color-border));
}

.ui-button-ghost {
  background: transparent;
  color: var(--color-text);
  border-color: var(--color-border);
}

.ui-button-danger {
  background: color-mix(in srgb, var(--color-danger) 20%, var(--color-bg2));
  color: var(--color-text);
  border-color: color-mix(in srgb, var(--color-danger) 48%, var(--color-border));
}

.inline-link {
  color: color-mix(in srgb, var(--color-primary) 70%, var(--color-text));
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}

.switch-row {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  color: var(--color-muted-text);
}

.form-error {
  color: var(--color-error);
}

.menu-popover {
  position: absolute;
  right: 0;
  top: calc(100% + 4px);
  min-width: 168px;
  z-index: 8;
  display: flex;
  flex-direction: column;
  gap: var(--space-2xs);
  padding: var(--space-2xs);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: color-mix(in srgb, var(--color-bg1) 96%, black 4%);
  box-shadow: 0 12px 20px color-mix(in srgb, black 52%, transparent);
}

.card-actions-menu {
  position: relative;
}

.ui-modal-backdrop {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-md);
  background: color-mix(in srgb, black 72%, transparent);
  z-index: 999;
}

.ui-modal {
  width: min(760px, 100%);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
  background: var(--color-bg1);
  box-shadow: 0 26px 42px color-mix(in srgb, black 56%, transparent);
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  max-height: min(90vh, 880px);
}

.ui-modal-header,
.ui-modal-body,
.ui-modal-footer {
  padding-inline: var(--space-lg);
}

.ui-modal-header {
  padding-top: var(--space-lg);
}

.ui-modal-body {
  overflow: auto;
}

.ui-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-xs);
  padding-bottom: var(--space-lg);
}

.ui-toast-stack {
  position: fixed;
  right: var(--space-md);
  bottom: var(--space-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  z-index: 1000;
}

.ui-toast {
  min-width: 230px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  padding: var(--space-xs) var(--space-md);
  background: color-mix(in srgb, var(--color-bg2) 85%, black 15%);
}

.ui-toast-success {
  border-color: color-mix(in srgb, var(--color-success) 52%, var(--color-border));
}

.ui-toast-error {
  border-color: color-mix(in srgb, var(--color-error) 52%, var(--color-border));
}

.ui-tab-list {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.ui-tab {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: color-mix(in srgb, var(--color-bg1) 90%, black 10%);
  color: var(--color-muted-text);
  padding: 8px 12px;
  font: inherit;
}

.ui-tab[aria-selected="true"] {
  color: var(--color-text);
}

.token-row {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-xs);
  align-items: center;
}

.token-chip {
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-bg1) 85%, black 15%);
  padding: 6px 10px;
  font-family: var(--font-family-mono);
  font-size: 0.82rem;
  color: var(--color-muted-text);
}

@media (max-width: 980px) {
  .app-layout {
    grid-template-columns: 1fr;
  }

  .sidebar {
    border-right: none;
    border-bottom: 1px solid var(--color-border);
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: var(--space-lg);
  }

  .sidebar-nav {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .editor-layout {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 680px) {
  .page-shell,
  .public-page,
  .auth-page,
  .topbar,
  .sidebar {
    padding: var(--space-md);
  }

  .section-header {
    flex-direction: column;
  }

  .grid-two,
  .grid-three,
  .grid-four {
    grid-template-columns: 1fr;
  }

  .actions-row {
    width: 100%;
    flex-wrap: wrap;
  }

  .ui-button {
    width: 100%;
  }

  .ui-modal {
    width: 100%;
  }
}
